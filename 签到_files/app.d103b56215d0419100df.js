webpackJsonp([9],{"+c27":function(t,e){},"02pT":function(t,e){},"1H7Z":function(t,e){},"1g2b":function(t,e){},"3IMD":function(t,e){},"4rJS":function(t,e){},"5Hoj":function(t,e){},"6ksm":function(t,e){},"9tXN":function(t,e){},CGQl:function(t,e){},JKiR:function(t,e){},JsOw:function(t,e){},L50L:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={};n.d(a,"getOrgStudent",function(){return q}),n.d(a,"getOrgEmp",function(){return G}),n.d(a,"getOrgGra",function(){return J}),n.d(a,"getHotAreaStr",function(){return P}),n.d(a,"backWaterText",function(){return X});n("X+8o");var r=n("iTiM"),o=(n("9l1i"),n("+MQa")),i=(n("eqfM"),n("/QYm")),u=(n("PEgo"),n("HNZ3")),s=(n("WJbf"),n("OhwO")),c=(n("XmAh"),n("il3B")),f=(n("le1z"),n("hZxG")),l=(n("HZGa"),n("pykS")),p=(n("RIEG"),n("zjGD")),d=(n("cZ0s"),n("fIxc")),g=(n("cOrn"),n("77gS")),h=(n("mMXg"),n("qYlo")),m=(n("nI2B"),n("qWG/")),v=(n("3Lne"),n("SSsa")),x=n("7+uW"),w=n("Xxa5"),b=n.n(w),I=n("exGp"),L=n.n(I),_=n("Dd8w"),k=n.n(_),y=n("NYxO"),O=n("Lw6n"),S=n.n(O),U=n("mtWM"),T=n.n(U),D=n("SFvw"),A=n.n(D),C=n("sXdO"),E=(n("xt+v"),{name:"App",data:function(){return{showTitle:null}},props:[],computed:k()({},Object(y.d)(["userInfo","developerUserIdList"]),Object(y.b)(["backWaterText"])),watch:{$route:function(t,e){this.resetTitle()}},methods:k()({},Object(y.c)(["updateUserInfo","updateQywxConfig","updateOrgList","updateStartDateValid","updateHotAreaList"]),{resetTitle:function(){this.showTitle=this.$route.name,document.title=this.showTitle},initValidDate:function(){var t=this;return L()(b.a.mark(function e(){var n,a,r,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post(A.a.REQUEST_URL+"/health_daily/getDataStartTime");case 2:if((n=e.sent).data.status){e.next=6;break}return t.$apiNotice(n.data),e.abrupt("return");case 6:a=(a=n.data.msg.split(" ")[0]).replace(/\-/g,"/"),r=Object(C.c)().replace(/\-/g,"/"),o=[new Date(a),new Date(r)],t.updateStartDateValid(o);case 11:case"end":return e.stop()}},e,t)}))()},initQywxConfig:function(){var t=this;return L()(b.a.mark(function e(){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get(A.a.REQUEST_URL+"/health_daily/getQywxConfig",{params:{url:window.location.href.split("#")[0]}});case 2:if((n=e.sent).data.status){e.next=6;break}return t.$apiNotice(n.data),e.abrupt("return");case 6:t.updateQywxConfig(n.data.data[0]);case 7:case"end":return e.stop()}},e,t)}))()},initUserInfo:function(){var t=this;return L()(b.a.mark(function e(){var n,a,r,o;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$route.query.userId,a="",n&&(a="?userId="+n),e.next=5,T.a.post(A.a.REQUEST_URL+"/health_daily/userInfo"+a);case 5:if((r=e.sent).data.status){e.next=9;break}return t.$apiNotice(r.data),e.abrupt("return");case 9:if(t.updateUserInfo(r.data.data[0]),t.getUserBindOrg(),t.initValidDate(),t.initQywxConfig(),t.initHotArea(),t.developerUserIdList.indexOf(t.userInfo.userid)>-1&&(o=new S.a,x.a.use(o)),"/test"!==t.$route.fullPath){e.next=17;break}return e.abrupt("return");case 17:if("/boot"!==t.$route.fullPath){e.next=19;break}return e.abrupt("return");case 19:t.$router.replace("/boot");case 20:case"end":return e.stop()}},e,t)}))()},getUserBindOrg:function(){var t=this;return L()(b.a.mark(function e(){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post(A.a.REQUEST_URL+"/health_daily/getUserBindOrg?userId="+t.userInfo.userid);case 2:if((n=e.sent).data.status){e.next=6;break}return t.$apiNotice(n.data),e.abrupt("return");case 6:t.updateOrgList(n.data.data);case 7:case"end":return e.stop()}},e,t)}))()},initHotArea:function(){var t=this;return L()(b.a.mark(function e(){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.post(A.a.REQUEST_URL+"/health_daily/getHotArea");case 2:if((n=e.sent).data.status){e.next=6;break}return t.$apiNotice(n.data),e.abrupt("return");case 6:t.updateHotAreaList(n.data.data);case 7:case"end":return e.stop()}},e,t)}))()}}),mounted:function(){this.resetTitle(),this.initUserInfo()}}),$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t._e(),t._v(" "),n("div",{staticClass:"routerViewContainer"},[n("keep-alive",[t.$route.meta.keepAlive?n("router-view",{directives:[{name:"watermark",rawName:"v-watermark",value:{text:t.backWaterText,textColor:"rgba(180, 180, 180, 0.3)"},expression:"{text:backWaterText,textColor:'rgba(180, 180, 180, 0.3)'}"}]}):t._e()],1),t._v(" "),t.$route.meta.keepAlive?t._e():n("router-view",{directives:[{name:"watermark",rawName:"v-watermark",value:{text:t.backWaterText,textColor:"rgba(180, 180, 180, 0.3)"},expression:"{text:backWaterText,textColor:'rgba(180, 180, 180, 0.3)'}"}]})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"back"},[e("i",{staticClass:"iconfont iconfanhui1-copy"})])}]};var M=n("VU/8")(E,$,!1,function(t){n("9tXN"),n("L50L")},"data-v-6ffb7014",null).exports,R=n("/ocq");x.a.use(R.a);var N=new R.a({routes:[{path:"/",name:"首页",component:function(){return n.e(3).then(n.bind(null,"EXDq"))}},{path:"/sign",name:"签到",meta:{keepAlive:!0},component:function(){return n.e(5).then(n.bind(null,"/DUo"))}},{path:"/report",name:"填报",component:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"vWbz"))}},{path:"/list",name:"班级",meta:{keepAlive:!0},component:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"VlgL"))}},{path:"/count",name:"统计",meta:{keepAlive:!0},component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"quk+"))}},{path:"/boot",name:"登录",component:function(){return n.e(4).then(n.bind(null,"yEra"))}},{path:"/test",name:"DEVICE INFO",component:function(){return n.e(6).then(n.bind(null,"Y7I0"))}}]}),H=n("mw3O"),W=n.n(H),Q=n("mvHQ"),F=n.n(Q);var Y=n("qJdI"),V=n.n(Y),j={developerUserIdList:["WangJInDong","XinHuanFengLinx","tst","zuguochen","19721062"],letterList:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],userInfo:{},qywxConfig:{},locInfo:{addressCommon:"",lat:0,log:0,area:null},orgList:[],startDateValid:[],hotAreaList:[]},q=function(t){return t.orgList.filter(function(t){return"班级管理"===t.sort})},G=function(t){return t.orgList.filter(function(t){return"职工管理"===t.sort})},J=function(t){return t.orgList.filter(function(t){return"研究生管理"===t.sort})},P=function(t){return t.hotAreaList},X=function(t){if(!t.userInfo||!t.userInfo.username)return"";var e=t.userInfo.lxdh;return e?(e=(e=e.toString()).slice(e.length-4),t.userInfo.username+e):t.userInfo.username},B={updateUserInfo:function(t,e){t.userInfo=e},updateQywxConfig:function(t,e){t.qywxConfig=e},updateLocInfo:function(t,e){t.locInfo=e},updateArea:function(t,e){t.locInfo&&(t.locInfo.area=e)},updateOrgList:function(t,e){t.orgList=e},updateStartDateValid:function(t,e){t.startDateValid=e},updateHotAreaList:function(t,e){t.hotAreaList=e}},Z=n("mUbh"),z=n("sax8"),K=n.n(z);x.a.use(y.a);var tt=new y.a.Store({state:j,getters:a,mutations:B,actions:Z,plugins:A.a.debug?[K()()]:[]}),et=(n("1g2b"),n("95YI")),nt=n.n(et);x.a.prototype.$qs=W.a,x.a.prototype.$saveToLocal=function(t,e,n){var a=window.localStorage.__global__;a?(a=JSON.parse(a))[t]||(a[t]={}):(a={})[t]={},a[t][e]=n,window.localStorage.__global__=F()(a)},x.a.prototype.$loadFromLocal=function(t,e,n){var a=window.localStorage.__global__;return a&&(a=JSON.parse(a)[t])&&a[e]||n},x.a.prototype.$apiConfig=A.a,T.a.defaults.withCredentials=!0,x.a.use(V.a),x.a.component("v-distpicker",nt.a),x.a.use(v.a),x.a.use(m.a),x.a.use(h.a),x.a.use(g.a),x.a.use(d.a),x.a.use(p.a),x.a.use(l.a),x.a.use(f.a),x.a.use(c.a),x.a.use(s.a),x.a.use(u.a),x.a.use(i.a),x.a.use(o.a),x.a.use(r.a),x.a.prototype.$imagePreview=s.a,x.a.prototype.$customNotify=function(t){Object(g.a)({message:t,color:"#ffffff",background:"#0A62BF"})},x.a.prototype.$apiNotice=function(t){t.status||Object(g.a)({message:t.msg,color:"#ffffff",background:"#0A62BF"})},x.a.prototype.$customToast=function(t,e){e?i.a.success(t):Object(i.a)({message:t,icon:"warning-o"})},x.a.config.productionTip=!1,x.a.directive("watermark",function(t,e){!function(t,e,n,a){var r=document.createElement("canvas");e.appendChild(r),r.width=180,r.height=150,r.style.display="none";var o=r.getContext("2d");o.rotate(-20*Math.PI/180),o.font=n||"16px Microsoft JhengHei",o.fillStyle=a||"rgba(180, 180, 180, 0.3)",o.textAlign="left",o.textBaseline="Middle",o.fillText(t,r.width/3,r.height/2),e.style.backgroundImage="url("+r.toDataURL("image/png")+")"}(e.value.text,t,e.value.font,e.value.textColor)}),Date.prototype.format=function(t){var e=t;return e=(e=(e=e.replace(/yyyy|YYYY/,this.getFullYear())).replace(/MM/,this.getMonth()+1>9?(this.getMonth()+1).toString():"0"+(this.getMonth()+1))).replace(/dd|DD/,this.getDate()>9?this.getDate().toString():"0"+this.getDate())},new x.a({el:"#app",router:N,store:tt,components:{App:M},template:"<App/>"})},SFvw:function(t,e){var n=window.location.href,a=n.indexOf("192.168")>-1,r=a?"http://wechat.sxu.edu.cn/microapp":"/microapp";n.indexOf(":8000")>-1&&(r="/microapp");t.exports={STATUS_ERR:"0",STATUS_OK:"1",REQUEST_URL:r,LOGIN_URL:"/ehall/users?info=",LOGIN_URL_MP:"/ehall/small_routine?info=",debug:a}},T2s0:function(t,e){},W0KU:function(t,e){},WRFY:function(t,e){},WpgC:function(t,e){},eh36:function(t,e){},hW8u:function(t,e){},mUbh:function(t,e){},nOtf:function(t,e){},nsZj:function(t,e){},sXdO:function(t,e,n){"use strict";e.c=function(t){var e=a(),n=e[0],o=e[1]+1,i=e[2];if(t)return n+"年"+o+"月"+i+"日";return n+"-"+r(o)+"-"+r(i)},e.b=function(t){var e=t.getFullYear(),n=r(t.getMonth()+1),a=r(t.getDate()),o=r(t.getHours()),i=r(t.getMinutes());return e+"-"+n+"-"+a+" "+o+":"+i+":00"},e.a=function(t){var e=t.getFullYear(),n=r(t.getMonth()+1),a=r(t.getDate()),o=r(t.getHours()),i=r(t.getMinutes());return e+"-"+n+"-"+a+" "+o+":"+i};var a=function(){var t=new Date;return[t.getFullYear(),t.getMonth(),t.getDate()]};function r(t){return("00"+(t+="")).substr(t.length)}},xT4F:function(t,e){},"xt+v":function(t,e,n){"use strict";var a=n("7+uW");e.a=new a.a}},["NHnr"]);
//# sourceMappingURL=app.d103b56215d0419100df.js.map